<odoo>
    <data>
        <record id="inherit_cost_est_crm_form" model="ir.ui.view">
            <field name="name">crm.lead.form</field>
            <field name="model">crm.lead</field>
            <field name="inherit_id" ref="sale_crm.crm_case_form_view_oppor"/>
            <field name="arch" type="xml">
                <xpath expr="//button[@name='action_schedule_meeting']" position="after">
                    <button class="oe_stat_button" type="object"
                            name="action_smart_estimation" icon="fa-list"
                            groups="cost_estimation_interface.group_cost_est_viewer,cost_estimation_interface.group_cost_est_user,cost_estimation_interface.group_cost_est_1st_app,cost_estimation_interface.group_cost_est_2nd_app">
                        <field name="estimation_count" widget="statinfo" string="Estimation(s)"/>
                    </button>
                    <field name="old" invisible="1"/>

                </xpath>

                <xpath expr="//button[@name='action_set_won_rainbowman']" position="after">
                    <button name="action_estimation" string="New Estimation" type="object" class="oe_highlight"
                            groups="cost_estimation_interface.group_cost_est_viewer,cost_estimation_interface.group_cost_est_user,cost_estimation_interface.group_cost_est_1st_app,cost_estimation_interface.group_cost_est_2nd_app"/>
                    <field name="quotation_restriction" invisible="1"/>
                    <field name="research_type_name" invisible="1"/>
                </xpath>
                <xpath expr="//page[@name='lead']" position="after">
                    <page string="Methodology" invisible="[('old','=',True)]">
                        <field name="product_line">
                            <list editable="bottom">
                                <field name="description" force_save="1"/>
                                <field name="research_type_id_crm" invisible="1"/>
                                <field name="research_type_id_crm_name" invisible="1"/>
                                <field name="custom_company_id" invisible="1"/>
                                <field name="product_id" domain="['&amp;','&amp;','|',('categ_id', 'ilike', research_type_id_crm_name)
                                ,('categ_id.parent_id', 'ilike', research_type_id_crm_name),('sale_ok', '=', True), ('company_id', '=', custom_company_id)]"/>
                                <field name="fw_country" options="{'no_quick_create': True, 'no_create_edit' : True}"/>
                                <field name="fw_city" options="{'no_quick_create': True, 'no_create_edit' : True}"/>
                                <field name="sec"
                                       column_invisible="[('parent.research_type_name', '=', 'QN')]"/>
                                <field name="quantity"
                                       column_invisible="[('parent.research_type_name', '=', 'QN')]"/>
                                <!--                                <field name="no_of_unit_attends"/>-->
                                <field name="mp_of_respondants"
                                       column_invisible="[('parent.research_type_name', '=', 'QN')]"/>
                                <field name="gender"
                                       column_invisible="[('parent.research_type_name', '=', 'QN')]" />
                                <field name="age"
                                       column_invisible="[('parent.research_type_name', '=', 'QN')]"/>
                                <field name="data_capture"
                                       column_invisible="[('parent.research_type_name', '=', 'QL')]"/>
                                <field name="quantity_qn"
                                       column_invisible="[('parent.research_type_name', '=', 'QL')]"/>
                            </list>
                        </field>
                    </page>

                </xpath>
            </field>
        </record>
    </data>
</odoo>
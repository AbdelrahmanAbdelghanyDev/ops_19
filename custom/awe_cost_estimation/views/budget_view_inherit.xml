<odoo>
    <data>
         <record id="budget_view_inherit" model="ir.ui.view">
             <field name="name">budget methodology view</field>
             <field name="model">opportunity.cost.estimation</field>
             <field name="inherit_id" ref="custom_opportunity_cost_estimation_v11.opportunity_cost_estimation_form"/>
             <field name="arch" type="xml">
                <data>
                   <xpath expr="//field[@name='order_line']/list/field[@name='product_id']" position="before">
                          <field name="budget_crm_research_id" invisible="1"/>
                          <field name="parent_cost" invisible="1"/>
                          
                    </xpath>
                    <xpath expr="//field[@name='order_line']/list/field[@name='product_id']" position="attributes">
                          <attribute name="domain">['&amp;','|',('categ_id', 'ilike', budget_crm_research_id),('categ_id.parent_id', 'ilike', budget_crm_research_id),('can_be_expensed','=',True)]</attribute>
                    </xpath>

                     <xpath expr="//field[@name='parent_opportunity']" position="after">
                          <field name="currency_id"/>

                    </xpath>
                   
<!--[('purchase_ok', '=', True),('categ_id.name','ilike',budget_crm_research_id)]-->
                </data>
            </field>
         </record>



    </data>
</odoo>